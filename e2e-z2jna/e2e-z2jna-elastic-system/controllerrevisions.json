{
    "apiVersion": "v1",
    "items": [
        {
            "apiVersion": "apps/v1",
            "data": {
                "spec": {
                    "template": {
                        "$patch": "replace",
                        "metadata": {
                            "annotations": {
                                "co.elastic.metrics/hosts": "${data.host}:9090",
                                "co.elastic.metrics/metricsets": "collector",
                                "co.elastic.metrics/module": "prometheus",
                                "co.elastic.metrics/period": "10s"
                            },
                            "creationTimestamp": null,
                            "labels": {
                                "control-plane": "e2e-z2jna-operator",
                                "test-run": "e2e-z2jna"
                            }
                        },
                        "spec": {
                            "containers": [
                                {
                                    "args": [
                                        "manager",
                                        "--namespaces",
                                        "e2e-z2jna-mercury,e2e-z2jna-venus",
                                        "--enable-webhook",
                                        "--log-verbosity=1",
                                        "--metrics-port=9090",
                                        "--telemetry-interval=15s"
                                    ],
                                    "env": [
                                        {
                                            "name": "OPERATOR_NAMESPACE",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "metadata.namespace"
                                                }
                                            }
                                        },
                                        {
                                            "name": "WEBHOOK_SECRET",
                                            "value": "webhook-server-secret"
                                        },
                                        {
                                            "name": "POD_IP",
                                            "valueFrom": {
                                                "fieldRef": {
                                                    "apiVersion": "v1",
                                                    "fieldPath": "status.podIP"
                                                }
                                            }
                                        }
                                    ],
                                    "image": "docker.elastic.co/eck/eck-operator:1.4.0-bc2",
                                    "imagePullPolicy": "IfNotPresent",
                                    "name": "manager",
                                    "ports": [
                                        {
                                            "containerPort": 9443,
                                            "name": "webhook-server",
                                            "protocol": "TCP"
                                        },
                                        {
                                            "containerPort": 9090,
                                            "name": "prometheus",
                                            "protocol": "TCP"
                                        }
                                    ],
                                    "resources": {
                                        "limits": {
                                            "cpu": "1",
                                            "memory": "512Mi"
                                        },
                                        "requests": {
                                            "cpu": "100m",
                                            "memory": "150Mi"
                                        }
                                    },
                                    "terminationMessagePath": "/dev/termination-log",
                                    "terminationMessagePolicy": "File",
                                    "volumeMounts": [
                                        {
                                            "mountPath": "/tmp/k8s-webhook-server/serving-certs",
                                            "name": "cert",
                                            "readOnly": true
                                        },
                                        {
                                            "mountPath": "/mnt/elastic/apm.crt",
                                            "name": "apm-cert",
                                            "readOnly": true,
                                            "subPath": "apm_server_cert"
                                        }
                                    ]
                                }
                            ],
                            "dnsPolicy": "ClusterFirst",
                            "restartPolicy": "Always",
                            "schedulerName": "default-scheduler",
                            "securityContext": {},
                            "serviceAccount": "e2e-z2jna-operator",
                            "serviceAccountName": "e2e-z2jna-operator",
                            "terminationGracePeriodSeconds": 10,
                            "volumes": [
                                {
                                    "name": "cert",
                                    "secret": {
                                        "defaultMode": 420,
                                        "secretName": "webhook-server-secret"
                                    }
                                },
                                {
                                    "name": "apm-cert",
                                    "secret": {
                                        "defaultMode": 420,
                                        "secretName": "eck-e2e-z2jna"
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "kind": "ControllerRevision",
            "metadata": {
                "annotations": {
                    "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"apps/v1\",\"kind\":\"StatefulSet\",\"metadata\":{\"annotations\":{},\"labels\":{\"control-plane\":\"e2e-z2jna-operator\",\"test-run\":\"e2e-z2jna\"},\"name\":\"e2e-z2jna-operator\",\"namespace\":\"e2e-z2jna-elastic-system\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"control-plane\":\"e2e-z2jna-operator\"}},\"serviceName\":\"e2e-z2jna-operator\",\"template\":{\"metadata\":{\"annotations\":{\"co.elastic.metrics/hosts\":\"${data.host}:9090\",\"co.elastic.metrics/metricsets\":\"collector\",\"co.elastic.metrics/module\":\"prometheus\",\"co.elastic.metrics/period\":\"10s\"},\"labels\":{\"control-plane\":\"e2e-z2jna-operator\",\"test-run\":\"e2e-z2jna\"}},\"spec\":{\"containers\":[{\"args\":[\"manager\",\"--namespaces\",\"e2e-z2jna-mercury,e2e-z2jna-venus\",\"--enable-webhook\",\"--log-verbosity=1\",\"--metrics-port=9090\",\"--telemetry-interval=15s\"],\"env\":[{\"name\":\"OPERATOR_NAMESPACE\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.namespace\"}}},{\"name\":\"WEBHOOK_SECRET\",\"value\":\"webhook-server-secret\"},{\"name\":\"POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}}],\"image\":\"docker.elastic.co/eck/eck-operator:1.4.0-bc2\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"manager\",\"ports\":[{\"containerPort\":9443,\"name\":\"webhook-server\",\"protocol\":\"TCP\"},{\"containerPort\":9090,\"name\":\"prometheus\",\"protocol\":\"TCP\"}],\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"150Mi\"}},\"volumeMounts\":[{\"mountPath\":\"/tmp/k8s-webhook-server/serving-certs\",\"name\":\"cert\",\"readOnly\":true},{\"mountPath\":\"/mnt/elastic/apm.crt\",\"name\":\"apm-cert\",\"readOnly\":true,\"subPath\":\"apm_server_cert\"}]}],\"serviceAccountName\":\"e2e-z2jna-operator\",\"terminationGracePeriodSeconds\":10,\"volumes\":[{\"name\":\"cert\",\"secret\":{\"defaultMode\":420,\"secretName\":\"webhook-server-secret\"}},{\"name\":\"apm-cert\",\"secret\":{\"secretName\":\"eck-e2e-z2jna\"}}]}}}}\n"
                },
                "creationTimestamp": "2021-01-14T15:51:33Z",
                "labels": {
                    "control-plane": "e2e-z2jna-operator",
                    "controller.kubernetes.io/hash": "7f54546dd7",
                    "test-run": "e2e-z2jna"
                },
                "managedFields": [
                    {
                        "apiVersion": "apps/v1",
                        "fieldsType": "FieldsV1",
                        "fieldsV1": {
                            "f:data": {},
                            "f:metadata": {
                                "f:annotations": {
                                    ".": {},
                                    "f:kubectl.kubernetes.io/last-applied-configuration": {}
                                },
                                "f:labels": {
                                    ".": {},
                                    "f:control-plane": {},
                                    "f:controller.kubernetes.io/hash": {},
                                    "f:test-run": {}
                                },
                                "f:ownerReferences": {
                                    ".": {},
                                    "k:{\"uid\":\"e585108e-34b8-4d3f-a1c8-3fca4eecafff\"}": {
                                        ".": {},
                                        "f:apiVersion": {},
                                        "f:blockOwnerDeletion": {},
                                        "f:controller": {},
                                        "f:kind": {},
                                        "f:name": {},
                                        "f:uid": {}
                                    }
                                }
                            },
                            "f:revision": {}
                        },
                        "manager": "kube-controller-manager",
                        "operation": "Update",
                        "time": "2021-01-14T15:51:33Z"
                    }
                ],
                "name": "e2e-z2jna-operator-7f54546dd7",
                "namespace": "e2e-z2jna-elastic-system",
                "ownerReferences": [
                    {
                        "apiVersion": "apps/v1",
                        "blockOwnerDeletion": true,
                        "controller": true,
                        "kind": "StatefulSet",
                        "name": "e2e-z2jna-operator",
                        "uid": "e585108e-34b8-4d3f-a1c8-3fca4eecafff"
                    }
                ],
                "resourceVersion": "1370",
                "uid": "35cf1c06-713b-4271-9f37-ee89e742b301"
            },
            "revision": 1
        }
    ],
    "kind": "List",
    "metadata": {
        "resourceVersion": "",
        "selfLink": ""
    }
}
